---
tags:
  - TVET-Vue-Issue-Front
  - function
  - click
---
## 문제 발생

---

- 저장과 수정 기능을 작업 완료 후 스타일을 바꾸기 위해 작업을 한 후 dev 브렌치로 pr 요청 보내기 전 마지막 테스트에서 갑자기 잘 되던 저장, 수정 기능이 반응조차 없었다.

## 해결 과정

---

- 지웠던 `console.log`를 추가했는데 저장, 수정버튼을 눌러도 param이 뜨지 않는다. 아마도 api 요청조차 하지 못하는거 같았다.
- 버튼 작업했던 걸 비교해보니 차이점을 알 수 있었다.

```html
<!-- 수정 전 코드 -->
<button @click="handlerUpdate()">
  수정
</button>

<button @click="handlerSave()">
 저장
</button>

```


```html
<!-- 수정 후 코드 -->
<button
  @click="id ? handlerUpdate : handlerSave"
>
  {{ id ? '수정' : '저장' }}
</button>
```

- 수정 전 코드는 테스트 빠르게 하기 위해 모달창에서 항상 수정, 저장 버튼이 표시 되었고, 수정, 저장 기능 완료 후에는 모달로 id값이 들어오면 수정, 아니라면 저장으로 하려고 이렇게 해놓았는데 문제는 수정 전 코드에서는 `@click`에서 `handlerUpdate()` 또는 `handlerSave()`를 호출하고 있었고, 수정 후 코드에서는 함수 참조(`handlerUpdate` 또는 `handlerSave`)를 넘겨주고 있었다.
-  이 차이는 함수가 이벤트 핸들러로 등록되느냐, 아니면 즉시 실행되느냐의 차이로 이어진다.

#### `@click="함수"`

- `@click` 속성이 단순히 **함수 참조**를 반환할 뿐, 해당 함수가 **실제로 호출되지 않는다**. 따라서 클릭 이벤트가 발생해도 아무런 동작도 하지 않는다. Vue.js에서는 이벤트 핸들러로 **실제 함수 호출**을 지정해야 한다.

#### `@click=함수()`

- `@click` 속성에서 함수를 **명시적으로 호출**한다. 클릭 이벤트 발생 시 함수가 즉시 호출 된다.



## 결론

---

```html
<!-- 최종 코드 -->
<button
  @click="id ? handlerUpdate() : handlerSave()"
>
  {{ id ? '수정' : '저장' }}
</button>
```

- 최종 코드에서는 `@click` 속성에 삼항 연산자를 사용하여 조건에 따라 적절한 함수를 명시적으로 호출하고 있다. 이 방식은 `id` 값에 따라 다른 동작(수정 또는 저장)을 실행할 수 있도록 올바르게 구현하였다.