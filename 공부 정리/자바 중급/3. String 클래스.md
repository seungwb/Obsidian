### String?
- 자바에서 문자를 다루는 대표적인 타입은 기본형의 `char`, 참조형의 `String` 이 있다.
- `String` 은 여러개의 `char`가 나열된 것으로도 볼수 있다.
- 실제로 `String` 클래스에 가보면 자바 9버전 이전에는 `char` 의 모임인것을 확인할 수 있다.

```java
public final class String  
    implements java.io.Serializable, Comparable<String>, CharSequence,  
               Constable, ConstantDesc {
	private final char[] value;   //자바 9버전 이하

	private final byte[] value;   //자바 9버전 이상
           
}
```

- 자바 9버전 이상에서 `byte[]` 배열의 집합인 이유는 영어나 숫자는 1바이트를 사용하는데 `char`를 사용하면 2바이트씩 사용하게 되기 때문에 메모리 손실이 발생한다. 그렇기 때문에 `byte` 를 이용하여 영어로만 된 문자열이나 숫자가 들어간 문자열을 효율적으로 메모리 관리를 한다.

### String 클래스 간의 비교
- `String` 클래스는 기본형이 아닌 참조형이므로 동일성 비교 ( `==` )가 아닌 동등성 비교 ( `equals()` ) 를 해야 한다.
- `new String()` 으로 객체 생성이 아닌 `String str = "Hello"`  이런식으로 문자열 리터럴을 사용하면 `==` 을 사용해도 문자열이 같은지 비교가 가능하지만 개발자가 항상 `new String()` 으로 문자열을 생성했는지, 문자열 리터럴로 생성했는지 확인하기 번거로우니 항상 `equals()` 를 사용하도록 하자.
##### 문자열 리터럴을 사용하면 `==` 이 성립하는 이유
- 자바에서는 문자열 리터럴을 사용하는 경우 메모리 효율성과 성능 최적화를 위해 문자열 풀을 사용한다.
 ![](https://imgur.com/FXgD1C2.png)

- 자바가 실행되는 시점에 클래스에 문자열 리터럴이 존재하는 경우, **문자열 풀**에 `String` 인스턴스를 미리 만들어 둔 후, 같은 문자열이 있으면 만들지 않는다.
- `str3` 과 `str4`에 동일한 문자열이 존재할 경우 같은 객체를 참조하고 있기 떄문에 `==` 으로도 `true` 가 되는 것이다.

### 불변 객체
`String`은 [불변 객체](<2. 불변 객체.md>)이다. 
```java
public class StringImmutable1 {  
  
    public static void main(String[] args) {  
        String str = "hello";  
        str.concat(" java");  
        System.out.println("str = " + str);  
    }  
}
```

- `concat` 메서드를 사용하여 문자열을 추가하는 코드를 짠다고 한들 `str` 의 결과값이 `hello java` 가 아닌 `hello` 가 된다. 그 이유는 `String`이 불변 객체이기 때문이다.
- `hello java`의 결과값을 얻기 위해서는 따로 `String` 변수에 받아줘야 한다.