#SpringStudy

```dataviewjs
  

const currentFile = dv.current();

const currentFilePath = currentFile.file.path;

const currentFolder = currentFile.file.folder;

const currentFolderName = currentFolder.split('/').pop();

  

const isWebExport = typeof app === "undefined";

  

const files = dv.pages(`"${currentFolder}"`)

  .where(p => p.file.name != currentFolderName)

  .sort(p => p.file.name);

  

let html = '<table class="dataview table-view-table">';

html += '<thead><tr><th>목차</th><th>경로</th></tr></thead>';

html += '<tbody>';

  

function convertToExportPath(originalPath) {

    return originalPath

      .replace(".md", ".html")

      .split("/")

      .map(segment =>

        segment

          .trim()

          .replace(/\s*-\s*/g, "-")         // " - " → "-"

          .replace(/\s+/g, "-")             // 공백 → 하이픈

          .replace(/-+/g, "-")              // 중복 하이픈 → 한 개

      )

      .join("/");

  }

  

files.forEach((page) => {

  const fileName = page.file.name;

  const filePath = isWebExport ?  convertToExportPath(page.file.path): page.file.path;

  

  // HTML 링크 대신 span으로 감싸고 클릭 이벤트 사용

  html += '<tr>';

  html += `<td><a class="file-link" data-path="${filePath}" style="color: var(--link-color); text-decoration: underline; cursor: pointer;">${fileName}</a></td>`;

  html += `<td>${filePath}</td>`;

  html += '</tr>';

});

  

html += '</tbody></table>';

  

dv.paragraph(html);

  

// Obsidian에서 링크 클릭 시 해당 노트 열기

if (!isWebExport) {

  const links = this.container.querySelectorAll(".file-link");

  links.forEach(link => {

    link.addEventListener("click", (e) => {

      const path = e.target.getAttribute("data-path");

      app.workspace.openLinkText(path, "", false);

    });

  });

}
```